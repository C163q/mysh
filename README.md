# MySh

一个实现Shell功能的rust练习项目。

## 开发笔记

由于本项目是一个练习项目，因此会尝试记录开发过程、思路等。你可以在[`dev-journal.md`](./docs/dev-journal.md)中查看。

## 功能

该Shell的功能正在逐步完善。功能列表如下：

- [x] 提示字符
  - [ ] 自定义提示字符
- [x] 内建命令
  - [x] `exit`
  - [x] `cd`
    - [x] `~`
  - [x] `pwd`
  - [x] `type`
- [ ] 环境变量支持
  - [x] `PATH`
- [x] 运行外部程序
  - [ ] 处理命令返回值
- [x] 命令解析
  - [x] 处理单引号
  - [x] 处理多引号（部分）
  - [x] 处理反斜线（部分）
  - [ ] 多行解析
- [x] 重定向
  - [x] 输入重定向
  - [x] 输出重定向
  - [x] 指定文件描述符
  - [x] 重定向组合
- [ ] 自动补全
  - [x] 内建命令自动补全
  - [x] 补全失败打印`bell character`
  - [x] 外部程序自动补全
  - [ ] 更多自动补全功能
- [x] 管道
  - [ ] 并行执行
- [x] 历史记录

## 已知问题

在`cargo test`的时候，由于测试是多线程的，而且由于输出重定向的原因，`cargo test`的本身的输出也会被重定向，
导致测试失败。目前的临时解决方案是使用`io::stdout().lock()`。
